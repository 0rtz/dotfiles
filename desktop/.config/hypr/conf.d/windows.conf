# Windows

# Move focus between windows
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Move focused windows
bind = $mainMod_SHIFT, h, exec, ~/.config/hypr/move.sh l
bind = $mainMod_SHIFT, l, exec, ~/.config/hypr/move.sh r
bind = $mainMod_SHIFT, k, movewindoworgroup, u
bind = $mainMod_SHIFT, j, movewindoworgroup, d

# Move/resize windows with mainMod + Left-mouse/Right-mouse click and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Toggle window tiling/floating state
bind = $mainMod_SHIFT, SPACE, moveoutofgroup
bind = $mainMod_SHIFT, SPACE, togglefloating
# Kill focused window
bind = $mainMod_SHIFT, x, killactive

# Split windows in vertical orientation
bind = $mainMod, v, lockactivegroup, toggle

# Change windows layout (stacked, tabbed, toggle split)
bind = $mainMod, s, layoutmsg, togglesplit
bind = $mainMod, e, togglegroup

# Enter fullscreen mode for the focused window
bind = $mainMod, f, fullscreen

# Initial windows layout = tabbed
windowrule {
  name = default-layout
  group = set always
  match:class = (.*)
}

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
  # Layout used for split windows
  layout = dwindle
}

# https://wiki.hyprland.org/Configuring/Dwindle-Layout/
dwindle {
  # Pseudotiled windows retain their floating size when tiled
  pseudotile = true
  # The split (side/top) will not change regardless of what happens to the window
  preserve_split = true
}

binds {
  # In a grouped window movefocus cycles windows in the groups first, then at each ends of tabs moves to other groups
  movefocus_cycles_groupfirst = true
}

group {
  # Dragging a floating window into a tiled window groupbar will merge them
  merge_floated_into_tiled_on_groupbar = true
}

# Windows borders appearance
# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    # Gaps between windows
    gaps_in = 0
    # Gaps between windows and monitor edges
    gaps_out = 0

    # Size of the border around windows
    border_size = 1

    # Border color for the active window
    col.active_border = rgba(ff0000ff) rgba(FF8181ff) 45deg
    # Border color for inactive windows
    col.inactive_border = rgba(000000ff)
}

# Windows borders appearance in different groups
group {
	# Active group (set of tabbed windows) border color
	col.border_active=rgba(ff0000ff) rgba(FF8181ff) 45deg
	# Out of focus group border color
	col.border_inactive=rgba(000000ff)
	# Active locked group border color
	col.border_locked_active=rgba(66ff55ff)
	# Inactive locked group border color
	col.border_locked_inactive=rgba(66ff55ff)
}

# Windows title bars appearance (single red thin line)
group {
	groupbar {
		gaps_in	= 0
		gaps_out = 0
		indicator_height = 4
		height = 0
		rounding = 0
		render_titles = false
		round_only_edges = false
		col.active = rgba(FF8181ff)
		col.inactive = rgba(000000ff)
	}
}

# "Smart gaps" / "No gaps when only"
# https://wiki.hypr.land/Configuring/Workspace-Rules/#workspace-selectors
# Only 1 non-floating window in the workspace: disable window title bars, disable window borders
workspace = w[t1], decorate:false, border:false
# Only 1 non-floating, visible window in the workspace: disable window borders
workspace = w[tv1], border:false

# Animation for switching between windows
animation = windows, 1, 2, default, popin

# Animation for overlay windows that appear on top of regular windows (notification popups, dropdown menus (rofi), floating panels)
animation = layers, 1, 4, default, slide

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
	animate_manual_resizes = true
}

# Floating windows appearance
# Window Rules
# https://wiki.hyprland.org/Configuring/Window-Rules/
windowrule {
  name = floating-windows
  opacity = 0.9
  border_size = 2
  match:float = 1
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
	# Do not use rounded windows borders
  rounding = 0
  rounding_power = 0

  # https://wiki.hyprland.org/Configuring/Variables/#blur
  blur {
    # Higher value = more blurry
    size = 4
  }
}

# Focus when client requests window activation (urgent window)
misc {
  focus_on_activate = true
}